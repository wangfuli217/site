#+SETUPFILE: ~/site/tpl/site-tpl.org
#+TITLE: vs2010 去掉 stdafx 编译选项和增加默认头文件搜寻目录
#+DATE: 2012-03-06 13:30:55

本来打算写两篇的，我不喜欢将两个不同的问题，揉到一起。但是马上要回去了，宿舍又没有网络，所以就先放到一起吧。

* vs 2010 去掉 stdafx 编译选项
   :PROPERTIES:
   :CUSTOM_ID: vs-2010-去掉-stdafx-编译选项
   :END:

在很多时候当你向mfc工程中添加一个 =.cpp= 文件时，总会提醒你是否忘记添加 =stdafx.h= 。
如果一次添加一个文件的话，还没什么感觉，当你一次添加很多源文件的时候，你就很烦了。去掉的方法：

右键 =工程->属性->配置属性->c/c++ ->预编译头(precompiled head)->precompiled head->not use ...=

需要注意的是，在 debug 和 release 两种模式的设置是互不相干的。

* 为 vs2010 增加默认的搜寻路径
   :PROPERTIES:
   :CUSTOM_ID: 为-vs2010-增加默认的搜寻路径
   :END:

我们都知道，头文件的搜索方式为 :

- 假如 =#include "...."= ，先搜索当前工程目录，后搜索系统目录
- 假如 =#include <>=, 直接搜索系统目录

今天公司让我看的一个工程，它把头文件和源文件，工程分的很开，分别放到不同的文件夹下。而所有的程序员自定义的头文件包含方式全部为 =#include <...>= 。

文件夹添加到了工程的搜寻路径下。

方法为: =右键工程->属性->c/c++->常规(general)->add include directores->= 进行添加就可以了。

需要注意的是，添加的路径应该相对路径，而非绝对路径。比如 =../../include/ ../../src/= 。
